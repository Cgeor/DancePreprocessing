import json
dict = {}
'''Generate json file containing the camera extrinsics in a format readable by multiviewcalib.'''
def ext_dict(R, t):
    return {"R": R, "t": t}

# 4.2
R0 = [[-0.958065569, -0.019507596, -0.285883963]
       ,[0.079732142, -0.976428509, -0.200573951]
       ,[-0.275232553, -0.214957163,  0.937038004]]

t0 = [[-186.152282715,	  734.741577148,	 3189.272949219]]

# 4.0
R1 = [[-0.795208275, -0.014352685, -0.606166422]
       ,[0.156602636, -0.970661879, -0.182458371]
       ,[-0.585763931, -0.240019679,  0.774126112 ]]

t1 = [[830.781738281,	  574.057250977,	 4116.577148438]]

# 6.0
R2 = [[0.631204605,  0.008269101, -0.775572240]
       ,[0.129235446, -0.987085998,  0.094654895]
       ,[-0.764773846, -0.159978032, -0.624121904]]

t2 = [[596.669311523,	  649.135131836,	 4310.709960938]]

# 6.1
R3 = [[0.133989424,  0.005069932, -0.990969896]
       ,[0.260507196, -0.964996934,  0.030286247]
       ,[-0.956129193, -0.262212783, -0.130620092]]

t3 = [[136.636718750,	  540.350402832,	 3544.690673828]]

# 6.2
R4 = [[-0.741868079, -0.014387976,  0.670391321]
       ,[-0.098663650, -0.986545801, -0.130356446]
       ,[0.663247347, -0.162850559,  0.730467319]]

t4 = [[-321.908325195,	  864.402709961,	 4353.985839844]]

# 6.3
R5 = [[0.979318857,  0.042515337,  0.197804958]
       ,[0.005735129, -0.983112574,  0.182911813]
       ,[0.202241108, -0.177994549, -0.963024557 ]]

t5 = [[-667.737854004,	  699.720886230,	 3880.736572266]]

# G2
R7 = [[-0.208770275, -0.026325341,  0.977610350]
       ,[-0.338872164, -0.935759962, -0.097565070]
       ,[0.917376995, -0.351653636,  0.186437935]]

t7 = [[-321.855468750,	  395.009704590,	 3783.869140625]]

''' 
#seq 1
dict["cam0"] = ext_dict(R0, t0)
dict["cam1"] = ext_dict(R2, t2)
dict["cam2"] = ext_dict(R3, t3)
dict["cam3"] = ext_dict(R5, t5)
dict["cam4"] = ext_dict(R7, t7)
'''

dict["cam0"] = ext_dict(R1, t1) # 4.0
dict["cam1"] = ext_dict(R0, t0) # 4.2
dict["cam2"] = ext_dict(R2, t2) # 6.0
dict["cam3"] = ext_dict(R3, t3) # 6.1
dict["cam4"] = ext_dict(R4, t4) # 6.2
dict["cam5"] = ext_dict(R5, t5) # 6.3
dict["cam6"] = ext_dict(R7, t7) # G2

with open('/home/costa/src/multiview_calib/examples/seq7/poses.json', 'w') as outfile:
    json.dump(dict, outfile, indent=2)